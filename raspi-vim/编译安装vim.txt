编译安装vim：

1.安装依赖
sudo apt-get install python-dev
sudo apt-get install python3-dev
sudo apt-get install libncurses5-dev

2.安装vim
git clone https://github.com/vim/vim.git  #下载vim源码包，本文写出时是vim8
#如果下载提示失败，可以适当调整下git的参数以实现正常下载：
git config --global http.postBuffer 20000000

cd vim
./configure --with-features=huge --enable-multibyte --enable-rubyinterp=yes --enable-python3interp=yes --with-python3-config-dir=/usr/lib/python3.7/config-3.7m-arm-linux-gnueabihf --enable-perlinterp=yes --enable-luainterp=yes --enable-gui=gtk2 --enable-cscope --prefix=/usr/local/vim
#在写本文的时候只有此configure参数可以实现vim支持python3且安装过程不会出错
sudo make &&sudo make install

对于configure有关数据做个简单介绍：

--with-features=huge：支持最大特性
--enable-rubyinterp：打开对ruby编写的插件的支持
--enable-pythoninterp：打开对python编写的插件的支持
--enable-python3interp：打开对python3编写的插件的支持
--enable-luainterp：打开对lua编写的插件的支持
--enable-perlinterp：打开对perl编写的插件的支持
--enable-multibyte：打开多字节支持，可以在Vim中输入中文
--enable-cscope：打开对cscope的支持
--with-python-config-dir=/usr/lib/python2.7/config-x86_64-linux-gnu/ 指定python 路径
--with-python-config-dir=/usr/lib/python3.5/config-3.5m-x86_64-linux-gnu/ 指定python3路径，但根据测试，本文需要的vim必须支持python3而不是python2,而一旦配置2，3的配置就无效了
--prefix=/usr/local/vim：指定将要安装到的路径(自行创建，但建议不知道vim默认安装路径的时候最多/usr就可以了)
